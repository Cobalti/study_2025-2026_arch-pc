---
title: "Лабораторная работа №5"
author: 
  - name: "[Галиев Самир Салаватович]"
    email: "[1032252590@rudn.ru]"
    stud_id: "[1032252590]"
  - name: "Российский университет дружбы народов"
    country: "Россия"
    city: "Москва"
date: "25.10.2025"
geometry:
  - left=3cm
  - right=1.5cm
  - top=2cm
  - bottom=2cm
fontsize: 13pt
linestretch: 1.5
indent: true
---
# Лабораторная работа №5. Основы работы с Midnight Commander. Структура программы на языке ассемблера NASM.
### Выполнил: [Галиев Самир Салаватович]
### Группа: [НКАбд-02-25]
### Дата выполнения: [08.11.2025]

# Лабораторная работа №5  
**Основы работы с Midnight Commander. Структура программы на языке ассемблера NASM. Системные вызовы в ОС GNU Linux**

**Выполнил:** [Ваше ФИО]  
**Группа:** [Ваша группа]  
**Дата выполнения:** [Дата]

---

## Оглавление

- [Цель работы](#цель-работы)
- [Результаты выполнения лабораторной работы](#результаты-выполнения-лабораторной-работы)
  - [Работа с Midnight Commander](#работа-с-midnight-commander)
  - [Создание и выполнение первой программы](#создание-и-выполнение-первой-программы)
  - [Работа с внешним файлом in_out.asm](#работа-с-внешним-файлом-in_outasm)
- [Задание для самостоятельной работы](#задание-для-самостоятельной-работы)
  - [Модификация программы без in_out.asm](#модификация-программы-без-in_outasm)
  - [Модификация программы с in_out.asm](#модификация-программы-с-in_outasm)
- [Выводы](#выводы)
- [Список литературы](#список-литературы)

---

## Цель работы

Приобретение практических навыков работы в Midnight Commander. Освоение инструкций языка ассемблера `mov` и `int`.

## Результаты выполнения лабораторной работы

### Работа с Midnight Commander

**Задание:** Изучение основ работы с файловым менеджером Midnight Commander, создание рабочего каталога и навигация по файловой системе.

**Выполнение:**
- Запущен Midnight Commander командой `mc`
- Создан каталог `lab05` в директории `~/work/arch-pc` с помощью клавиши `F7`
- Осуществлена навигация по файловой системе с использованием клавиш `↑`, `↓` и `Enter`

![Окно Midnight Commander](screenshots/mc_main.png)

**Комментарии:** Midnight Commander предоставляет удобный графический интерфейс для работы с файловой системой, позволяя выполнять основные операции управления файлами с помощью функциональных клавиш.

### Создание и выполнение первой программы

**Задание:** Создание программы на языке ассемблера NASM для вывода сообщения на экран и ввода строки с клавиатуры с использованием системных вызовов.

**Выполнение:**
- Создан файл `lab5-1.asm` командой `touch`
- Написан код программы с использованием системных вызовов `write`, `read` и `exit`
- Программа оттранслирована и скомпонована:
  ```bash
  nasm -f elf32 lab5-1.asm
  ld -m elf_i386 -o lab5-1 lab5-1.o
Программа запущена и протестирована

https://screenshots/lab5-1_code.png

https://screenshots/lab5-1_run.png

**Комментарии:** Программа успешно выводит приглашение для ввода строки и ожидает пользовательский ввод. Использованы системные вызовы через инструкцию int 0x80 с передачей параметров через регистры.

### Работа с внешним файлом in_out.asm
**Задание**: Подключение внешнего файла с подпрограммами и модификация программы для использования этих подпрограмм.

**Выполнение:**
-Скачан файл in_out.asm и скопирован в рабочий каталог
-Создана копия программы lab5-2.asm
-Программа модифицирована для использования подпрограмм sprintLF, sread и quit
-Проведено сравнение работы подпрограмм sprint и sprintLF

https://screenshots/in_out_copy.png

https://screenshots/sprint_comparison.png

**Комментарии:** Подпрограмма sprintLF добавляет символ перевода строки после вывода сообщения, в то время как sprint выводит сообщение без перевода строки. Использование внешних подпрограмм упрощает написание кода и делает его более читаемым.

### Задание для самостоятельной работы
#### Модификация программы без in_out.asm
**Задание:** Модификация программы lab5-1.asm для вывода введенной строки обратно на экран без использования внешнего файла in_out.asm.

**Выполнение:**
-Создана копия файла lab5-3.asm
-Добавлен системный вызов write после вызова read для вывода введенной строки
-Программа собрана и протестирована

https://screenshots/lab5-3_run.png

**Комментарии:** Для вывода введенной строки использован системный вызов write с передачей адреса буфера и длины введенной строки. Длина строки сохраняется из регистра eax после системного вызова read.

#### Модификация программы с in_out.asm
**Задание:** Модификация программы lab5-2.asm для вывода введенной строки обратно на экран с использованием подпрограмм из файла in_out.asm.

**Выполнение:**
-Создана копия файла lab5-4.asm
-Добавлен вызов подпрограммы sprintLF после ввода строки для ее вывода на экран
-Программа собрана и протестирована

https://screenshots/lab5-4_run.png

**Комментарии:** Использование подпрограмм из внешнего файла значительно упрощает код основной программы. Подпрограмма sprintLF автоматически обрабатывает вывод строки с переводом строки.

### Выводы
В ходе выполнения лабораторной работы были достигнуты следующие результаты:
1) Освоена работа с Midnight Commander 
2) Изучена структура программ на NASM 
3) Освоены инструкции mov и int 
4) Реализован диалог с пользователем 
5) Освоена работа с внешними файлами 
6) Выполнены задания для самостоятельной работы 

Цель работы достигнута полностью - приобретены практические навыки работы в Midnight Commander и освоены инструкции языка ассемблера mov и int.

### Список литературы
1) Midnight Commander Development Center — 2021. — URL: https://midnight-commander.org/
2) NASM Assembly Language Tutorials — 2021. — URL: https://asmtutor.com/
3) The NASM documentation — 2021. — URL: https://www.nasm.us/docs.php
4) Расширенный ассемблер: NASM — 2021. — URL: https://www.opennet.ru/docs/RUS/nasm/
5) Столяров А. Программирование на языке ассемблера NASM для OC Unix. — 2-е изд. — М. : MAKC Пресс, 2011. — URL: http://www.stolyarov.info/books/asm_unix
